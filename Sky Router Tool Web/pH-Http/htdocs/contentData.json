{"blocks":{"loading_text_block":{"name":"loading_text_block","author":"mrmt32","content":"\r\n<div style=\"text-align: center; width: 100%\">Loading Data... <img src='images\/loading.gif' alt='loading' \/><\/div>\r\n"},"bandwitdth_usage_totals_block":{"name":"bandwitdth_usage_totals_block","author":"mrmt32","content":"\r\n\t<thead>\r\n\t\t<tr><th\/><th>Download<\/th><th>Upload<\/th><\/tr>\r\n\t<\/thead>\r\n\t<tr class=\"odd\">\r\n\t\t<th>Total Usage: <\/th><td>{$totalUsageDown} <span class='unit'>MB<\/span><\/td><td>{$totalUsageUp} <span class='unit'>MB<\/span><\/td>\r\n\t<\/tr>\r\n\t<tr>\r\n\t\t<th>Average Speed: <\/th><td>{$avgSpeedDown} <span class='unit'>KB\/sec<\/span><\/td><td>{$avgSpeedUp} <span class='unit'>KB\/sec<\/span><\/td>\r\n\t<\/tr>\r\n"},"adsl_connection_graph_block":{"name":"adsl_connection_graph_block","author":"mrmt32","content":"\n\t<h2 id='pageTitle'><$title><\/h2>\n\t\n\t<div id='<$name>_graph' class='graph'>\n\t\n\t<$$loading_text_block:{}>\n\t\n\t<&javascript>\n\t\tSendCommandToServer({action:'get_value', type:'current', name:parameters.name}, function(jsonResponse)\n\t\t\t{\n\t\t\t\tif (jsonResponse.isError)\n\t\t\t\t{\n\t\t\t\t\t$(\"#\" + parameters.name + \"_graph\").html(jsonResponse.ErrorString);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\t\n\t\t\t\t\tvar curve = {data: new Array()};\n\t\t\t\t\t\n\t\t\t\t\tfor (i in jsonResponse.ReturnData[parameters.name])\n\t\t\t\t\t{\n\t\t\t\t\t\tcurve.data[i] = [i * 4.3125, jsonResponse.ReturnData[parameters.name][i]];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t$.plot($(\"#\" + parameters.name + \"_graph\"), [curve], \n\t\t\t\t\t{  \n\t\t\t\t\tpoints: { show: false }, \n\t\t\t\t\tlines: { show: true }, \n\t\t\t\t\tbars: { show: true, barWidth: 4.3125 },\n\t\t\t\t\tpan: { interactive: true },\n\t\t\t\t\tzoom: { interactive: true } \n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t<&\/javascript>\n\t<\/div>\n"},"graph_menu_block":{"name":"graph_menu_block","author":"mrmt32","content":"\r\n<div class='graphMenu'>\r\n\t<p class='graphMenuCaption'>Select a timespan below:<\/p>\r\n\t<ul>\r\n\t\t<li><a href=\"#graphs,{$pagename}&type=lasthour\" id='lasthour'>Last Hour<\/a><\/li> \r\n\t\t<li><a href=\"#graphs,{$pagename}&type=lastday\" id='lastday'>Last Day<\/a><\/li> \r\n\t\t<li><a href=\"#graphs,{$pagename}&type=lastmonth\" id='lastmonth'>Last Month<\/a><\/li> \r\n\t\t<li><a href=\"#graphs,{$pagename}&type=lastyear\" id='lastyear'>Last Year<\/a><\/li>\r\n\t\t<li><a href=\"#graphs,{$pagename}&type=last10year\" id='last10year'>Last 10 Years<\/a><\/li>\r\n\t<\/ul>\r\n<\/div>\r\n"},"errors_totals_block":{"name":"errors_totals_block","author":"mrmt32","content":"\n\t<thead>\n\t\t<tr><th\/><th>CRC<\/th><th>LOS<\/th><th>LOF<\/th><th>ES<\/th><\/tr>\n\t<\/thead>\n\t<tr class=\"odd\">\n\t\t<th>Total Errors: <\/th>\n\t\t<td>{$totalCrcErrors} <span class='unit'>Errors<\/span><\/td>\n\t\t<td>{$totalLosErrors} <span class='unit'>Errors<\/span><\/td>\n\t\t<td>{$totalLofErrors} <span class='unit'>Errors<\/span><\/td>\n\t\t<td>{$totalErroredSeconds} <span class='unit'>Errors<\/span><\/td>\n\t<\/tr>\n\t<tr>\n\t\t<th>Average Error Rate: <\/th>\n\t\t<td>{$avgCrcErrors} <span class='unit'>Errors\/hr<\/span><\/td>\n\t\t<td>{$avgLosErrors} <span class='unit'>Errors\/hr<\/span><\/td>\n\t\t<td>{$avgLofErrors} <span class='unit'>Errors\/hr<\/span><\/td>\n\t\t<td>{$avgErroredSeconds} <span class='unit'>Errors\/hr<\/span><\/td>\n\t<\/tr>\n"},"snrm_averages_block":{"name":"snrm_averages_block","author":"mrmt32","content":"\r\n\t<thead>\r\n\t\t<tr><th\/><th>Downstream<\/th><th>Upstream<\/th><\/tr>\r\n\t<\/thead>\r\n\t<tr class=\"odd\">\r\n\t\t<th>Average SNR Margin: <\/th><td>{$avgSnrmDown} <span class='unit'>dB<\/span><\/td><td>{$avgSnrmUp} <span class='unit'>dB<\/span><\/td>\r\n\t<\/tr>\r\n"},"connection_details_block":{"name":"connection_details_block","author":"mrmt32","content":"\n<&javascript delayed='true'>\n\t$(\"#rebootButton\").click(function()\n\t{\n\t\t$(\"conStatus\").html(\"Rebooting...\");\n\t\tSendCommandToServer({action:'reboot'}, function(jsonResponse)\n\t\t{\n\t\t\tChangePage(document.location.hash.substring(1));\n\t\t});\n\t});\n\t$(\"#resyncButton\").click(function()\n\t{\n\t\t$(\"conStatus\").html(\"Resyncing...\");\n\t\tSendCommandToServer({action:'resync'}, function(jsonResponse)\n\t\t{\n\t\t\tif (jsonResponse.isError)\n\t\t\t{\n\t\t\t\talert(\"Error occured while resyncing: \" + jsonResponse.ErrorString);\n\t\t\t}\n\n\t\t\tChangePage(document.location.hash.substring(1));\n\t\t});\n\t});\n<&\/javascript>\n<p>\n\tStatus: <&javascript>output = (parameters.status.toUpperCase() == \"SHOWTIME\") ? \"<span id='conStatus' style='color: green'>Connected<\/span>\" : \"<span id='conStatus' style='color: red'>\" + parameters.status + \"<\/span>\";<&\/javascript>\n<\/p>\n<table>\n    <thead>\n        <tr>\n            <th scope=\"col\"\/><th scope=\"col\">Downstream<\/th><th scope=\"col\">Upstream<\/th>\n        <\/tr>\n    <\/thead>\n    <tr class='odd'>\n        <th scope=\"row\">Sync Rate: <\/th><td>{$downSyncRate} <span class='unit'>Kbps<\/span><\/td><td>{$upSyncRate} <span class='unit'>Kbps<\/span><\/td>\n    <\/tr>\n    <tr>\n        <th scope=\"row\">Max Rate: <\/th><td>{$downMaxRate} <span class='unit'>Kbps<\/span><\/td><td>{$upMaxRate} <span class='unit'>Kbps<\/span><\/td>\n    <\/tr>\n    <tr class='odd'>\n        <th scope=\"row\">Attenuation: <\/th><td>{$downAttn} <span class='unit'>dB<\/span><\/td><td>{$upAttn} <span class='unit'>dB<\/span><\/td>\n    <\/tr>\n    <tr>\n        <th scope=\"row\">SNR Margin: <\/th><td>{$downSnrm} <span class='unit'>dB<\/span><\/td><td>{$upSnrm} <span class='unit'>dB<\/span><\/td>\n    <\/tr>\n    <tr class='odd'>\n        <th scope=\"row\">ADSL Mode: <\/th><td colspan=\"2\">{$adslMode}<\/td>\n    <\/tr>\n    <tr>\n        <th scope=\"row\">Channel: <\/th><td colspan=\"2\">{$adslChannel}<\/td>\n    <\/tr>\n    <tr class='odd'>\n        <th scope=\"row\">Average Error Rate: <\/th><td colspan=\"2\">{$crcRate} <span class='unit'>CRC Errors\/hr<\/span><\/td>\n    <\/tr>\n<\/table>\n<div class='quickButtons'><button id='rebootButton'>Reboot<\/button> - <button id='resyncButton'>Resync<\/button><\/div>\n"},"process_overview_block":{"name":"process_overview_block","author":"mrmt32","content":"\r\n<table>\r\n\t<tbody>\r\n\t\t<tr><th>Total Memory Allocation: <\/th><td><$totalMemoryUsage> <span class=\"unit\">KB<\/span> (<$totalMemoryUsagePercent>%)<\/td><\/tr>\t\r\n\t\t<tr><th>Running Processes: <\/th><td><$processesCount><\/td><\/tr>\t\r\n\t<\/tbody>\r\n<\/table>\r\n"},"process_information_block":{"name":"process_information_block","author":"mrmt32","content":"\r\n\t<table>\r\n\t\t<tbody>\r\n\t\t\t<tr>\r\n\t\t\t\t<th>Process ID<\/th> <td><$processId><\/td>\r\n\t\t\t<\/tr>\r\n\t\t\t<tr class='odd'>\r\n\t\t\t\t<th>Process Name<\/th> <td><$processName><\/td>\r\n\t\t\t<\/tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<th>Command Line<\/th> <td><$commandLine><\/td>\r\n\t\t\t<\/tr>\r\n\t\t\t<tr class='odd'>\r\n\t\t\t\t<th>VmSize<\/th> <td><$vmSize> <span type='unit'>KB<\/span><\/td>\r\n\t\t\t<\/tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<th>VmRSS<\/th> <td><$vmRSS> <span type='unit'>KB<\/span><\/td>\r\n\t\t\t<\/tr>\r\n\t\t\t<tr class='odd'>\r\n\t\t\t\t<th>VmExe<\/th> <td><$vmExe> <span type='unit'>KB<\/span><\/td>\r\n\t\t\t<\/tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<th>VmLib<\/th> <td><$vmLib> <span type='unit'>KB<\/span><\/td>\r\n\t\t\t<\/tr>\r\n\t\t\t<tr class='odd'>\r\n\t\t\t\t<th>VmStk<\/th> <td><$vmStk> <span type='unit'>KB<\/span><\/td>\r\n\t\t\t<\/tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<th>Threads<\/th> <td><$threadCount><\/td>\r\n\t\t\t<\/tr>\r\n\t\t\t<tr class='odd'>\r\n\t\t\t\t<th>Avg Sleep Time<\/th> <td><$sleepTime><span type='unit'>%<\/span><\/td>\r\n\t\t\t<\/tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<th>Run State<\/th> <td><$runState><\/td>\r\n\t\t\t<\/tr>\r\n\t\t\t<tr class='odd'>\r\n\t\t\t\t<th>Environment<\/th> <td><$environment><\/td>\r\n\t\t\t<\/tr>\r\n\t\t<\/tbody>\r\n\t<\/table>\r\n"},"settings_change_status_block":{"name":"settings_change_status_block","author":"mrmt32","content":"\r\n\t<h2>Settings<\/h2>\r\n\t\r\n\t<&javascript>\r\n\t\tif (parameters.jsonResponse.isError)\r\n\t\t{\r\n\t\t\toutput = \"<p>An error occured while saving your settings. The error returned was:<\/p>\"\r\n\t\t\t\t    + \"<p><textarea cols='50' rows='9'>\" + parameters.jsonResponse.ErrorString + \"<\/textarea><\/p>\";\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (!parameters.dontShowValues)\r\n\t\t\t{\r\n\t\t\t\toutput = \"<p>Your settings where saved successfully. Their new values are:<\/p>\";\r\n\t\t\t\toutput += \"<table><tbody>\";\r\n\t\t\t\t\r\n\t\t\t\tfor (setting in parameters.jsonResponse.ReturnData)\r\n\t\t\t\t{\r\n\t\t\t\t\toutput += \"<tr>\";\r\n\t\t\t\t\toutput += \"<td>\" + setting + \"<\/td>\";\r\n\t\t\t\t\toutput += \"<td>\" + parameters.jsonResponse.ReturnData[setting] + \"<\/td>\";\r\n\t\t\t\t\toutput += \"<\/tr>\";\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\toutput += \"<\/tbody><\/table>\";\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\toutput = \"<p>Your settings where saved successfully.<\/p>\";\r\n\t\t\t}\r\n\t\t}\r\n\t<&\/javascript>\r\n\t\r\n\t<p><button onclick=\"ChangePage(document.location.hash.substring(1))\">OK<\/button><\/p>\r\n"},"logger_settings_form_block":{"name":"logger_settings_form_block","author":"mrmt32","content":"\r\n<fieldset>\r\n\t<h3>Router Polling<\/h3>\r\n\t<p>Note that this value should be no more than ~20 minutes as a greater time-span can cause incomplete bandwidth usage data.<\/p>\r\n\t<p>The default of 1 minute is recommended.<\/p>\r\n\t<p><label for='RouterPollInterval'>Router Polling Interval: <\/label> <input type='text' name='RouterPollInterval' id='RouterPollInterval' value='<$RouterPollInterval>' size='5' \/> Seconds<\/p>\r\n<\/fieldset>\t\r\n<fieldset>\r\n\t<p class='submitButton'><input type='submit' value='Save' \/><\/p>\r\n<\/fieldset>\r\n"},"consolidation_settings_form_block":{"name":"consolidation_settings_form_block","author":"mrmt32","content":"\n<fieldset class=\"wide\">\n\t<h3>Router Consolidation Rules<\/h3>\n\t<p>These rules govern how Sky Router Tool will consolidate your logs over time (to save space).<\/p>\n\t<p class=\"warningText\">WARNING: These rules are retroactive and will take effect immediatly; make sure they are correct before saving them! You may lose data otherwise.<\/p>\n\t<p>\n\t\t<table>\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>Consolidate Before<\/th><th>To a resolution of<\/th><th\/>\n\t\t\t\t<\/tr>\n\t\t\t<\/thead>\n\t\t\t<tbody id='consolTableBody'>\n\t\t\t\t<&javascript delayed='true'>\n\t\t\t\t\t\/\/ Gets an optimum time value in either min\/sec\/days\/years etc\n\t\t\t\t\tfunction getTimeValue (time)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (time >= 31536000000)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\/\/ Time is greater than or equal to 1 year\n\t\t\t\t\t\t\tthis.type = \"Years\";\n\t\t\t\t\t\t\tthis.time = time \/ 31536000000;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (time >= 2419200000)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\/\/ Time is greater than or equal to 28 days (~1 month)\n\t\t\t\t\t\t\tthis.type = \"Months\";\n\t\t\t\t\t\t\tthis.time = time \/ 2419200000;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (time >= 604800000000)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\/\/ Time is greater than or equal to 1 week\n\t\t\t\t\t\t\tthis.type = \"Weeks\";\n\t\t\t\t\t\t\tthis.time = time \/ 604800000;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (time >= 86400000)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\/\/ Time is greater than or equal to 1 day\n\t\t\t\t\t\t\tthis.type = \"Days\";\n\t\t\t\t\t\t\tthis.time = time \/ 86400000;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (time >= 3600000)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\/\/ Time is greater than or equal to 1 hour\n\t\t\t\t\t\t\tthis.type = \"Hours\";\n\t\t\t\t\t\t\tthis.time = time \/ 3600000;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (time >= 60000)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\/\/ Time is greater than or equal to 1 minute\n\t\t\t\t\t\t\tthis.type = \"Minutes\";\n\t\t\t\t\t\t\tthis.time = time \/ 60000;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tthis.type = \"Seconds\";\n\t\t\t\t\t\t\tthis.time = time \/ 1000;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn this;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tfunction createTimeOptions(name, defaultType)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar result = \"\";\n\t\t\t\t\t\t\n\t\t\t\t\t\tvar options = ['Seconds', 'Minutes', 'Hours', 'Days'  , 'Weeks'  , 'Months'  , 'Years'    ];\n\t\t\t\t\t\tvar values  = [1000     , 60000    , 3600000, 86400000, 604800000, 2419200000, 31536000000];\n\t\t\t\t\t\t\n\t\t\t\t\t\tresult += \"<select name='\" + name + \"'>\";\n\t\t\t\t\t\t\n\t\t\t\t\t\tfor (i in options)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tresult += \"<option value='\" + values[i] + \"'\" + (options[i] == defaultType? \" selected='selected'\":\"\") + \">\" + options[i] + \"<\/option>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tresult += \"<\/select>\";\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn result;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tfor ( i in parameters.ReturnData )\n\t\t\t\t\t{\n\t\t\t\t\t\tvar consolidationPeriod = parameters.ReturnData[i];\n\t\t\t\t\t\tvar timeBefore = new getTimeValue(consolidationPeriod.Period);\n\t\t\t\t\t\tvar resolution = new getTimeValue(consolidationPeriod.Resolution);\n\t\t\t\t\t\t\n\t\t\t\t\t\toutput = \"\";\n\t\t\t\t\t\toutput += \"<tr class='\" + (i%2 == 0? \"\" : \"odd\") + \"' consolid='\" +  consolidationPeriod.Id + \"'>\";\n\t\t\t\t\t\toutput += \"\t<td><input size='5' type='text' name='timeBefore' value='\" + timeBefore.time + \"'\/> \";\n\t\t\t\t\t\toutput += \tcreateTimeOptions(\"timeBeforeType\", timeBefore.type) + \" ago<\/td>\";\n\t\t\t\t\t\t\n\t\t\t\t\t\toutput += \"\t<td><input size='5' type='text' name='resolution' value='\" + resolution.time + \"'\/> \";\n\t\t\t\t\t\toutput += \tcreateTimeOptions(\"resolutionType\", resolution.type) + \" per measurement.<\/td>\";\n\t\t\t\t\t\toutput += \"\t<td><button type='button' class='removeButton'>Remove<\/button><\/td>\";\n\t\t\t\t\t\toutput += \"<\/tr>\";\n\t\t\t\t\t\t\n\t\t\t\t\t\t$(\"#consolTableBody\").append(output);\n\t\t\t\t\t\t\n\t\t\t\t\t\t\/\/ Add remove button event handler\n\t\t\t\t\t\t$(\"tr[consolid='\" + consolidationPeriod.Id + \"'] button.removeButton\").bind('click', {id: consolidationPeriod.Id}, function(e)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif ($(this).html() == \"Remove\")\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t$(this).html(\"Undo\");\n\t\t\t\t\t\t\t\t$(\"tr[consolid='\" + e.data.id + \"']\").toggleClass(\"disabled\", true);\n\t\t\t\t\t\t\t\t$(\"tr[consolid='\" + e.data.id + \"'] input\").attr(\"disabled\", true);\n\t\t\t\t\t\t\t\t$(\"tr[consolid='\" + e.data.id + \"'] select\").attr(\"disabled\", true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t$(this).html(\"Remove\");\n\t\t\t\t\t\t\t\t$(\"tr[consolid='\" + e.data.id + \"']\").toggleClass(\"disabled\", false);\n\t\t\t\t\t\t\t\t$(\"tr[consolid='\" + e.data.id + \"'] input\").attr(\"disabled\", false);\n\t\t\t\t\t\t\t\t$(\"tr[consolid='\" + e.data.id + \"'] select\").attr(\"disabled\", false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\twindow.log_consolidation_table_count = parameters.ReturnData.length;\n\t\t\t\t\t\n\t\t\t\t\t$(\"#consolTableBody\").append(\"<tr class='separator'><td\/><td\/><td><button type='button' class='addButton'>Add<\/button><\/td><\/tr>\");\n\t\t\t\t\t\n\t\t\t\t\t$(\".addButton\").click(function()\n\t\t\t\t\t{\n\t\t\t\t\t\toutput = \"\";\n\t\t\t\t\t\toutput += \"<tr class='\" + (window.log_consolidation_table_count%2 == 0? \"\" : \"odd\") + \"' id='newitem_\" + window.log_consolidation_table_count + \"'>\";\n\t\t\t\t\t\toutput += \"\t<td><input size='5' type='text' name='timeBefore' \/> \";\n\t\t\t\t\t\toutput += \tcreateTimeOptions(\"timeBeforeType\", \"Seconds\") + \" ago<\/td>\";\n\t\t\t\t\t\t\n\t\t\t\t\t\toutput += \"\t<td><input size='5' type='text' name='resolution' \/> \";\n\t\t\t\t\t\toutput += \tcreateTimeOptions(\"resolutionType\", \"Seconds\") + \" per measurement.<\/td>\";\n\t\t\t\t\t\toutput += \"\t<td><button type='button' class='removeButton'>Remove<\/button><\/td>\";\n\t\t\t\t\t\toutput += \"<\/tr>\";\n\t\t\t\t\t\t\n\t\t\t\t\t\t$(\"#consolTableBody\").append(output);\n\t\t\t\t\t\t\n\t\t\t\t\t\t$(\"#newitem_\" + window.log_consolidation_table_count + \" button.removeButton\").bind('click', {item: \"#newitem_\" + window.log_consolidation_table_count}, function(e)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t$(e.data.item).remove();\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\twindow.log_consolidation_table_count++;\n\t\t\t\t\t});\n\t\t\t\t<&\/javascript>\n\t\t\t<\/tbody>\n\t\t<\/table>\n\t<\/p>\n<\/fieldset>\n<fieldset class=\"wide\">\n\t<p class='submitButton'><input type='submit' value='Save' \/><\/p>\n<\/fieldset>\n"},"router_connection_settings_form_block":{"name":"router_connection_settings_form_block","author":"mrmt32","content":"\n<fieldset>\t\n\t<p>\n\t\t<label for='RouterModel'>Router Type: <\/label>\n\t\t<select id='RouterModel' name='RouterModel'>\n\t\t\t<option value='DG834GT' <&javascript>output = (parameters.RouterModel == 'DG834GT') ? \"selected='selected'\" : \"\"<&\/javascript>>Netgear DG834GT&nbsp;&nbsp;&nbsp;<\/option>\t\n\t\t\t<option value='DG934G' <&javascript>output = (parameters.RouterModel == 'DG934G') ? \"selected='selected'\" : \"\"<&\/javascript>>Netgear DG934G&nbsp;&nbsp;&nbsp;<\/option>\n\t\t<\/select>\n\t<\/p>\n\t<p>&nbsp<\/p>\n\t<p><label for='RouterHostname'>Router Hostname: <\/label> <input type='text' name='RouterHostname' id='RouterHostname' value='<$RouterHostname>' \/><\/p>\n\t<p><label for='RouterUsername'>Router User Name: <\/label> <input type='text' name='RouterUsername' id='RouterUsername' value='<$RouterUsername>' \/><\/p>\n\t<p><label for='RouterUsername'>Router Password: <\/label> <input type='password' name='RouterPassword' id='RouterPassword' value='<$RouterPassword>' \/><\/p>\n<\/fieldset>\t\n<fieldset>\n\t<p class='submitButton'><input type='submit' value='Save' \/><\/p>\n<\/fieldset>\n"},"ping_result_block":{"name":"ping_result_block","author":"mrmt32","content":"\n\t<h2>Ping Results<\/h2>\n\t<p><textarea cols=\"65\" rows=\"20\" readonly=\"readonly\"><$result><\/textarea><\/p>\n"},"run_command_result_block":{"name":"run_command_result_block","author":"mrmt32","content":"\n\t<h2>Command Result<\/h2>\n\t<pre>\n\t\t<$ReturnData>\n\t<\/pre>\n\t<p><button onclick=\"ChangePage(document.location.hash.substring(1))\">Back<\/button><\/p>\n"},"sky_defaults_form_block":{"name":"sky_defaults_form_block","author":"mrmt32","content":"\n\t<fieldset class=\"wide\">\n\t\t<p><label for='lanMacAddress'>LAN MAC Address: <\/label><input name='lanMacAddress' id='lanMacAddress' type='text' value='<$lanMacAddress>' \/><\/p>\n\t\t<p id='serialNumberBox'>\n\t\t\t<&javascript delayed='true'>\n\t\t\t\t$(\"#routerType\").change(function ()\n\t\t\t\t{\n\t\t\t\t\tswitch ($(\"#routerType option:selected\").val())\n\t\t\t\t\t{\n\t\t\t\t\t\tcase \"v1\":\n\t\t\t\t\t\t\t$(\"#serialNumberBox\").html(\"\")\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase \"v2\":\n\t\t\t\t\t\t\t$(\"#serialNumberBox\").html(\"<label for='serial'>Serial Number: <\/label><input name='serial' id='serial' type='text' value='' \/>\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\tcase \"v3\":\n\t\t\t\t\t\t\talert(\"Sky V3 (Black Sagum) not yet supported!\");\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t<&\/javascript>\n\t\t<\/p>\n\n\t\t<p>\n\t\t\t<label for='routerType'>Router Type: <\/label>\n\t\t\t<select id='routerType'>\n\t\t\t\t<option value='v1' selected=\"selected\">Sky V1 - DG834GT (White Netgear)<\/option>\t\n\t\t\t\t<option value='v2'>Sky V2 - DG934G (Black Netgear)<\/option>\n\t\t\t\t<option value='v3'>Sky V3 - (Black Sagum)<\/option>\n\t\t\t<\/select>\n\t\t<\/p>\n\t<\/fieldset>\n\t<fieldset class=\"wide\">\n\t\t<p class='submitButton'><input type=\"submit\" value=\"Calculate\" \/><\/p>\n\t<\/fieldset>\n"},"sky_defaults_results_block":{"name":"sky_defaults_results_block","author":"mrmt32","content":"\n\t<h2>Sky Defaults<\/h2>\n\t\n\t<&javascript>\n\t\tif (parameters.jsonResponse.isError)\n\t\t{\n\t\t\toutput = \"<p>An error occured getting the values. The error returned was:<\/p>\"\n\t\t\t\t    + \"<p><textarea cols='50' rows='9'>\" + parameters.jsonResponse.ErrorString + \"<\/textarea><\/p>\";\n\t\t}\n\t\telse\n\t\t{\n\t\t\toutput = \"<p>The default values are:<\/p>\";\n\t\t\toutput += \"<table><tbody>\";\n\t\t\t\n\t\t\tfor (setting in parameters.jsonResponse.ReturnData)\n\t\t\t{\n\t\t\t\toutput += \"<tr>\";\n\t\t\t\toutput += \"<td>\" + setting + \"<\/td>\";\n\t\t\t\toutput += \"<td>\" + parameters.jsonResponse.ReturnData[setting] + \"<\/td>\";\n\t\t\t\toutput += \"<\/tr>\";\n\t\t\t}\n\t\t\t\n\t\t\toutput += \"<\/tbody><\/table>\";\n\t\t}\n\t<&\/javascript>\n\t\n\t<p><button onclick=\"ChangePage(document.location.hash.substring(1))\">OK<\/button><\/p>\n"},"speed_test_result_block":{"name":"speed_test_result_block","author":"mrmt32","content":"\n\t<h2>Speed Test Result<\/h2>\n\t<p>Your router was able to download <a href=\"<$address>\"><$address><\/a> at a speed of: <br\/>\n\t<strong><$speed><\/strong> KB\/sec.<\/p>\n"}},"sections":{"graphs":{"name":"graphs","defaultPage":"bandwidth","author":"mrmt32","navigation":{"name":"navigation","author":"mrmt32","content":"\r\n<div class='contentBox sideBar'>\r\n<h3>Historic Graphs<\/h3>\r\n<ul>\r\n\t<li><a href='#graphs,bandwidth'>Bandwidth Usage<\/a><\/li>\t\r\n\t<li><a href='#graphs,snrm'>Signal to Noise Ratio Margin<\/a><\/li>\r\n\t<li><a href='#graphs,errors'>ADSL Errors<\/a><\/li>\r\n<\/ul>\r\n<\/div>\r\n\r\n<div class='contentBox sideBar'>\r\n<h3>ADSL Connection Graphs<\/h3>\r\n<ul>\r\n\t<li><a href='#graphs,bitloading'>Bit Loading<\/a><\/li>\t\r\n\t<&javascript>\r\n\t\tif (SrtSettings.RouterModel == \"DG834GT\")\r\n\t\t{\r\n\t\t \toutput = \"<li><a href='#graphs,snr'>Signal to Noise Ratio<\/a><\/li>\";\r\n\t\t\toutput += \"<li><a href='#graphs,qln'>Quiet Line Noise<\/a><\/li>\";\r\n\t\t\toutput += \"<li><a href='#graphs,hlog'>Attenuation<\/a><\/li>\";\r\n\t\t}\r\n\t<&\/javascript>\r\n<\/ul>\r\n<\/div>\r\n"},"pages":{"bitloading":{"name":"bitloading","author":"mrmt32","content":"\r\n<$$adsl_connection_graph_block:{name:\"bitLoading\", title:\"Bit Loading\"}>\r\n"},"snr":{"name":"snr","author":"mrmt32","content":"\r\n<$$adsl_connection_graph_block:{name:\"snr\", title:\"Signal to Noise Ratio\"}>\r\n"},"qln":{"name":"qln","author":"mrmt32","content":"\r\n<$$adsl_connection_graph_block:{name:\"qln\", title:\"Quiet Line Noise\"}>\r\n"},"hlog":{"name":"hlog","author":"mrmt32","content":"\r\n<$$adsl_connection_graph_block:{name:\"hlog\", title:\"Attenuation\"}>\r\n"},"bandwidth":{"name":"bandwidth","author":"mrmt32","content":"\r\n\t<h2 id='pageTitle'>Bandwidth Usage<\/h2>\r\n\t\r\n\t<$$graph_menu_block:{pagename: \"bandwidth\"}>\r\n\t\r\n\t<div id='bandwidth_usage_graph' class='graph'>\r\n\t\t\r\n\t<$$loading_text_block:{}>\r\n\t\t\r\n\t<&javascript delayed='true'>\r\n\t\tvar startTime;\r\n\t\tvar endTime;\r\n\t\tvar timeFormat;\r\n\t\t\r\n\t\tvar times = pHMb.Graphing.ChangeTimeSpan(parameters.type, \"Bandwidth Usage\");\r\n\t\t\r\n\t\tSendCommandToServer({action:'get_value', type:'log', name:'Bandwidth Usage', startTime:times.startTime, endTime:times.endTime}, function(jsonResponse)\r\n\t\t{\r\n\t\t\tif (jsonResponse.isError)\r\n\t\t\t{\r\n\t\t\t\t$(\"#bandwidth_usage_graph\").html(jsonResponse.ErrorString);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\t\r\n\t\t\t\t\/\/ Lets process the rediculous amount of data!\r\n\t\t\t\t\/\/ Note that the returned data is sorted descending by date (so newest is first)\r\n\t\t\t\t\r\n\t\t\t\tvar downloadCurve = {label: \"Download\", data: new Array()};\r\n\t\t\t\tvar uploadCurve = {label: \"Upload\", data: new Array()};\r\n\t\t\t\tvar errorCurve = {label: \"Downtime\", data: new Array()};\r\n\t\t\t\t\r\n\t\t\t\tvar i = 0;\r\n\t\t\t\tvar errCount = 0;\r\n\t\t\t\tvar lastStartTime;\r\n\t\t\t\tfor (logItemId in jsonResponse.ReturnData)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar logItem = jsonResponse.ReturnData[logItemId];\t\t\r\n\t\t\t\t\tvar startTime = logItem.startTime.getTime() - logItem.startTime.getTimezoneOffset() * 60 * 1000;\r\n\t\t\t\t\tvar endTime = logItem.endTime.getTime() - logItem.endTime.getTimezoneOffset() * 60 * 1000;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\/\/ Check to see if there was any down time inbetween the last entry and this one:\r\n\t\t\t\t\tif (isset(lastStartTime) && lastStartTime - endTime > 1000 * 60)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\terrorCurve.data[errCount] = [lastStartTime, 100];\r\n\t\t\t\t\t\tdownloadCurve.data[i] = [lastStartTime, null];\r\n\t\t\t\t\t\tuploadCurve.data[i] = [lastStartTime, null];\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\terrCount++;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\terrorCurve.data[errCount] = [endTime, 100];\r\n\t\t\t\t\t\tdownloadCurve.data[i] = [endTime, null];\r\n\t\t\t\t\t\tuploadCurve.data[i] = [endTime, null];\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\terrCount++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\r\n\t\t\t\t\tlastStartTime = startTime;\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\/\/ Calculate speed\r\n\t\t\t\t\tvar downloadSpeed = (logItem.usageDown \/ 1024) \/ ((endTime - startTime) \/ 1000)\r\n\t\t\t\t\tvar uploadSpeed = (logItem.usageUp \/ 1024) \/ ((endTime - startTime) \/ 1000)\r\n\t\r\n\t\t\t\t\tdownloadCurve.data[i] = [endTime, downloadSpeed];\r\n\t\t\t\t\tuploadCurve.data[i] = [endTime, uploadSpeed];\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\t\r\n\t\t\t\t\tdownloadCurve.data[i] = [startTime, downloadSpeed];\r\n\t\t\t\t\tuploadCurve.data[i] = [startTime, uploadSpeed];\r\n\t\t\t\t\ti++;\r\n\t\t\t\t\t\r\n\t\t\t\t\t\/*\r\n\t\t\t\t\t$(\"#bandwidth_usage_year_table\").append(\"<tr><td>\" + logItem.startTime + \"-\" + logItem.endTime + \"<\/td>\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ \"<td>\" + logItem.usageUp + \"<\/td>\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t+ \"<td>\" + logItem.usageDown + \"<\/td><\/tr>\");*\/\r\n\t\t\t\t\tif ( !isset(logItem.usageDown) )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\terrorCurve.data[errCount] = [endTime, 100];\r\n\t\t\t\t\t\terrCount++;\r\n\t\t\t\t\t\terrorCurve.data[errCount] = [startTime, 100];\r\n\t\t\t\t\t\terrCount++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\terrorCurve.data[errCount] = [endTime, 0];\r\n\t\t\t\t\t\terrCount++;\r\n\t\t\t\t\t\terrorCurve.data[errCount] = [startTime, 0];\r\n\t\t\t\t\t\terrCount++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t$.plot($(\"#bandwidth_usage_graph\"), [downloadCurve, uploadCurve, errorCurve], { \r\n\t\t\t\t\txaxis: { mode: \"time\", timeformat: timeFormat }, \r\n\t\t\t\t\tyaxis: { min: 0 },\r\n\t\t\t\t\tpoints: { show: false }, \r\n\t\t\t\t\tlines: { show: true }, \r\n\t\t\t\t\tpan: { interactive: true },\r\n\t\t\t\t\tzoom: { interactive: true } \r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t\/\/ Get totals and averages\r\n\t\tSendCommandToServer({action:'get_value', type:'totals', name:'Bandwidth Usage', startTime:times.startTime, endTime:times.endTime}, function(jsonResponse)\r\n\t\t{\r\n\t\t\tif (jsonResponse.isError)\r\n\t\t\t{\r\n\t\t\t\t$(\"#bandwidth_usage_totals\").html(jsonResponse.ErrorString);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\t\r\n\t\t\t\tparameters = \r\n\t\t\t\t{\r\n\t\t\t\ttotalUsageDown: Math.round(jsonResponse.ReturnData[0].totalUsageDown \/ 1024 \/ 1024 *100) \/ 100,\r\n\t\t\t\ttotalUsageUp: Math.round(jsonResponse.ReturnData[0].totalUsageUp \/ 1024 \/ 1024 *100) \/ 100,\r\n\t\t\t\tavgSpeedDown: Math.round(jsonResponse.ReturnData[0].avgDownSpeed \/ 1024 *100) \/ 100,\r\n\t\t\t\tavgSpeedUp: Math.round(jsonResponse.ReturnData[0].avgUpSpeed \/ 1024 *100) \/ 100\r\n\t\t\t\t};\r\n\t\t\t\r\n\t\t\t\tParseContentData(window.ContentData.blocks.bandwitdth_usage_totals_block, parameters, function(output)\r\n\t\t\t\t{\r\n\t\t\t\t\t$(\"#bandwidthUsageTotals\").html(output);\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t});\r\n\t<&\/javascript>\r\n\t<\/div>\r\n\t<table id=\"bandwidthUsageTotals\">\r\n\t\r\n\t<\/table>\r\n"},"errors":{"name":"errors","author":"mrmt32","content":"\n\t<h2 id='pageTitle'>ADSL Errors<\/h2>\n\t\n\t<$$graph_menu_block:{pagename: \"errors\"}>\n\t\n\t<div id='errors_graph' class='graph'>\n\t\t\n\t<$$loading_text_block:{}>\n\t\t\n\t<&javascript delayed='true'>\n\t\tvar startTime;\n\t\tvar endTime;\n\t\tvar timeFormat;\n\t\t\n\t\tvar times = pHMb.Graphing.ChangeTimeSpan(parameters.type, \"Errors\");\n\t\t\n\t\tSendCommandToServer({action:'get_value', type:'log', name:'Errors', startTime:times.startTime, endTime:times.endTime}, function(jsonResponse)\n\t\t{\n\t\t\tif (jsonResponse.isError)\n\t\t\t{\n\t\t\t\t$(\"#errors_graph\").html(jsonResponse.ErrorString);\n\t\t\t}\n\t\t\telse\n\t\t\t{\t\n\t\t\t\t\/\/ Lets process the rediculous amount of data!\n\t\t\t\t\/\/ Note that the returned data is sorted descending by date (so newest is first)\n\t\t\t\t\n\t\t\t\tvar crcErrorCurve = {label: \"CRC\", data: new Array()};\n\t\t\t\tvar\tlosErrorCurve = {label: \"LOS\", data: new Array()};\n\t\t\t\tvar lofErrorCurve = {label: \"LOF\", data: new Array()};\n\t\t\t\tvar esErrorCurve = {label: \"ES\", data: new Array()};\n\t\t\t\tvar noDataCurve = {label: \"Downtime\", data: new Array()};\n\t\t\t\t\n\t\t\t\tvar i = 0;\n\t\t\t\tvar errCount = 0;\n\t\t\t\tvar lastStartTime;\n\t\t\t\tfor (logItemId in jsonResponse.ReturnData)\n\t\t\t\t{\n\t\t\t\t\tvar logItem = jsonResponse.ReturnData[logItemId];\t\t\n\t\t\t\t\tvar startTime = logItem.startTime.getTime() - logItem.startTime.getTimezoneOffset() * 60 * 1000;\n\t\t\t\t\tvar endTime = logItem.endTime.getTime() - logItem.endTime.getTimezoneOffset() * 60 * 1000;\n\t\t\t\t\t\n\t\t\t\t\t\/\/ Check to see if there was any down time inbetween the last entry and this one:\n\t\t\t\t\tif (isset(lastStartTime) && lastStartTime - endTime > 1000 * 60)\n\t\t\t\t\t{\n\t\t\t\t\t\tnoDataCurve.data[errCount] = [lastStartTime, 100];\n\t\t\t\t\t\tcrcErrorCurve.data[i] = [lastStartTime, null];\n\t\t\t\t\t\tlosErrorCurve.data[i] = [lastStartTime, null];\n\t\t\t\t\t\tlofErrorCurve.data[i] = [lastStartTime, null];\n\t\t\t\t\t\tesErrorCurve.data[i] = [lastStartTime, null];\n\t\t\t\t\t\ti++;\n\t\t\t\t\t\terrCount++;\n\t\t\t\t\t\t\n\t\t\t\t\t\tnoDataCurve.data[errCount] = [endTime, 100];\n\t\t\t\t\t\tcrcErrorCurve.data[i] = [endTime, null];\n\t\t\t\t\t\tlosErrorCurve.data[i] = [endTime, null];\n\t\t\t\t\t\tlofErrorCurve.data[i] = [endTime, null];\n\t\t\t\t\t\tesErrorCurve.data[i] = [endTime, null];\n\t\t\t\t\t\ti++;\n\t\t\t\t\t\terrCount++;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\n\t\t\t\t\tlastStartTime = startTime;\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\/\/ Calculate error rate\n\t\t\t\t\tvar crcRate = (logItem.crcErrors \/ 1024) \/ ((endTime - startTime) \/ 1000)\n\t\t\t\t\tvar losRate = (logItem.losErrors \/ 1024) \/ ((endTime - startTime) \/ 1000)\n\t\t\t\t\tvar lofRate = (logItem.lofErrors \/ 1024) \/ ((endTime - startTime) \/ 1000)\n\t\t\t\t\tvar esRate = (logItem.erroredSeconds \/ 1024) \/ ((endTime - startTime) \/ 1000)\n\t\n\t\t\t\t\tcrcErrorCurve.data[i] = [endTime, crcRate];\n\t\t\t\t\tlosErrorCurve.data[i] = [endTime, losRate];\n\t\t\t\t\tlofErrorCurve.data[i] = [endTime, lofRate];\n\t\t\t\t\tesErrorCurve.data[i] = [endTime, esRate];\n\t\t\t\t\ti++;\n\t\t\t\t\t\n\t\t\t\t\tcrcErrorCurve.data[i] = [startTime, crcRate];\n\t\t\t\t\tlosErrorCurve.data[i] = [startTime, losRate];\n\t\t\t\t\tlofErrorCurve.data[i] = [startTime, lofRate];\n\t\t\t\t\tesErrorCurve.data[i] = [startTime, esRate];\n\t\t\t\t\ti++;\n\n\t\t\t\t\tif ( !isset(logItem.crcErrors) )\n\t\t\t\t\t{\n\t\t\t\t\t\tnoDataCurve.data[errCount] = [endTime, 100];\n\t\t\t\t\t\terrCount++;\n\t\t\t\t\t\tnoDataCurve.data[errCount] = [startTime, 100];\n\t\t\t\t\t\terrCount++;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tnoDataCurve.data[errCount] = [endTime, 0];\n\t\t\t\t\t\terrCount++;\n\t\t\t\t\t\tnoDataCurve.data[errCount] = [startTime, 0];\n\t\t\t\t\t\terrCount++;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t$.plot($(\"#errors_graph\"), [crcErrorCurve, losErrorCurve, lofErrorCurve, esErrorCurve], { \n\t\t\t\t\txaxis: { mode: \"time\", timeformat: timeFormat }, \n\t\t\t\t\tyaxis: { min: 0 },\n\t\t\t\t\tpoints: { show: false }, \n\t\t\t\t\tlines: { show: true }, \n\t\t\t\t\tpan: { interactive: true },\n\t\t\t\t\tzoom: { interactive: true } \n\t\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\t\n\t\t\/\/ Get totals and averages\n\t\tSendCommandToServer({action:'get_value', type:'totals', name:'Errors', startTime:times.startTime, endTime:times.endTime}, function(jsonResponse)\n\t\t{\n\t\t\tif (jsonResponse.isError)\n\t\t\t{\n\t\t\t\t$(\"#errorsTotals\").html(jsonResponse.ErrorString);\n\t\t\t}\n\t\t\telse\n\t\t\t{\t\n\t\t\t\tParseContentData(window.ContentData.blocks.errors_totals_block, jsonResponse.ReturnData[0], function(output)\n\t\t\t\t{\n\t\t\t\t\t$(\"#errorsTotals\").html(output);\n\t\t\t\t})\n\t\t\t}\n\t\t});\n\t<&\/javascript>\n\t<\/div>\n\t<table id=\"errorsTotals\">\n\t\n\t<\/table>\n"},"snrm":{"name":"snrm","author":"mrmt32","content":"\r\n\t<h2 id='pageTitle'>Signal to Noise Ratio Margin<\/h2>\r\n\t\r\n\t<$$graph_menu_block:{pagename: \"snrm\"}>\r\n\t\r\n\t<div id='snrm_graph' class='graph'>\r\n\t\r\n\t<$$loading_text_block:{}>\r\n\t\r\n\t<&javascript delayed='true'>\r\n\t\tvar startTime;\r\n\t\tvar endTime;\r\n\t\tvar timeFormat;\r\n\t\t\r\n\t\tvar times = pHMb.Graphing.ChangeTimeSpan(parameters.type, \"Signal to Noise Ratio Margin\");\r\n\t\t\r\n\t\tSendCommandToServer({action:'get_value', type:'log', name:'SNR Margin', startTime:times.startTime, endTime:times.endTime}, function(jsonResponse)\r\n\t\t\t{\r\n\t\t\t\tif (jsonResponse.isError)\r\n\t\t\t\t{\r\n\t\t\t\t\t$(\"#snrm_graph\").html(jsonResponse.ErrorString);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\t\r\n\t\t\t\t\t\/\/ Note that the returned data is sorted descending by date (so newest is first)\r\n\t\t\t\t\tvar downCurve = {label: \"Downstream\", data: new Array()};\r\n\t\t\t\t\tvar upCurve = {label: \"Upstream\", data: new Array()};\r\n\t\t\t\t\t\/\/var errorCurve = {label: \"Downtime\", data: new Array()};\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar i = 0;\r\n\t\t\t\t\tvar errCount = 0;\r\n\t\t\t\t\tfor (logItemId in jsonResponse.ReturnData)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar logItem = jsonResponse.ReturnData[logItemId];\t\t\r\n\t\t\t\t\t\tvar time = logItem.time.getTime();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdownCurve.data[i] = [time, logItem.snrmDown];\r\n\t\t\t\t\t\tupCurve.data[i] = [time, logItem.snrmUp];\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t$.plot($(\"#snrm_graph\"), [downCurve, upCurve], \r\n\t\t\t\t\t{ \r\n\t\t\t\t\txaxis: { mode: \"time\", timeformat: timeFormat }, \r\n\t\t\t\t\tpoints: { show: false }, \r\n\t\t\t\t\tlines: { show: true }, \r\n\t\t\t\t\tpan: { interactive: true },\r\n\t\t\t\t\tzoom: { interactive: true } \r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t\/\/ Get totals and averages\r\n\t\t\tSendCommandToServer({action:'get_value', type:'totals', name:'SNR Margin', startTime:times.startTime, endTime:times.endTime}, function(jsonResponse)\r\n\t\t\t{\r\n\t\t\t\tif (jsonResponse.isError)\r\n\t\t\t\t{\r\n\t\t\t\t\t$(\"#snrAverages\").html(jsonResponse.ErrorString);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\t\r\n\t\t\t\t\tparameters = \r\n\t\t\t\t\t{\r\n\t\t\t\t\tavgSnrmDown: Math.round(jsonResponse.ReturnData[0].avgSnrmDown * 100) \/ 100,\r\n\t\t\t\t\tavgSnrmUp: Math.round(jsonResponse.ReturnData[0].avgSnrmUp * 100) \/ 100\r\n\t\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\t\tParseContentData(window.ContentData.blocks.snrm_averages_block, parameters, function(output)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t$(\"#snrAverages\").html(output);\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t<&\/javascript>\r\n\t<\/div>\r\n\t<table id=\"snrAverages\">\r\n\t\t<tr><td><$$loading_text_block:{}><\/td><\/tr>\r\n\t<\/table>\r\n"}},"title":"Graphs","displayOrder":"20"},"help":{"name":"help","defaultPage":"about","author":"mrmt32","navigation":{"name":"navigation","author":"mrmt32","content":"\r\n<div class='contentBox sideBar'>\r\n\t<h3>General<\/h3>\r\n\t<ul>\r\n\t\t<li><a href='#help,about'>About<\/a><\/li>\r\n\t\t<li><a href='#help,supported_devices'>Supported Devices<\/a><\/li>\r\n\t\t<li><a href='#help,faq'>Frequently Asked Questions<\/a><\/li>\r\n\t<\/ul>\r\n<\/div>\r\n\r\n<div class='contentBox sideBar'>\r\n\t<h3>Web Interface<\/h3>\r\n\t<ul>\r\n\t\t<li><a href='#help,home'>Home<\/a><\/li>\r\n\t\t<li><a href='#help,graphs'>Graphs<\/a><\/li>\r\n\t\t<li><a href='#help,tools'>Tools<\/a><\/li>\r\n\t\t<li><a href='#help,settings'>Settings<\/a><\/li>\r\n\t<\/ul>\r\n<\/div>\r\n\r\n<div class='contentBox sideBar'>\r\n\t<h3>Advanced<\/h3>\r\n\t<ul>\r\n\t\t<li><a href='#help,databases'>The Databases<\/a><\/li>\r\n\t\t<li><a href='#help,howitworks'>How Sky Router Tool Works<\/a><\/li>\r\n\t\t<li><a href='#help,modifying'>Modifying Sky Router Tool<\/a><\/li>\r\n\t<\/ul>\r\n<\/div>\r\n"},"pages":{"databases":{"name":"databases","author":"mrmt32","content":"\n<h2>Advanced Help - Databases<\/h2>\n<div class='helpPage'>\n\t<p>The data logged by Sky Router Tool is saved in a SQL Compact Edition database file. This is located at \"C:\\ProgramData\\sky router tool\\routerlogs.sdf\". There is also another database in this folder called \"settings.sdf\", this contains the consolidation rules.<\/p>\n<\/div>\n"},"howitworks":{"name":"howitworks","author":"mrmt32","content":"\r\n<h2>Advanced Help - How Sky Router Tool Works<\/h2>\r\n<div class='helpPage'>\r\n\t<p>Sky Router Tool first checks to see if it can access http:\/\/192.168.0.1:8234\/do_cmd.sh (Which it wont be able to if the router has been restarted since the tool was last run).<\/p>\r\n\r\n\t<p>\r\n\t\tIf it cant access the page it then runs the following commands using the URL injection hack (http:\/\/192.168.0.1\/setup.cgi?todo=ping_test&nextfile=diagping.htm&c4_IPAddr=127.0.0.1>\/dev\/null;...):\r\n\t\r\n\t\t<table>\r\n\t\t\t<tr class='odd'>\r\n\t\t\t\t<td>mkdir \/tmp\/new_web<\/td><td>- Makes a new temporary directory<\/td>\r\n\t\t\t<\/tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>rm \/tmp\/new_web\/do_cmd.sh<\/td><td>- Removes any old cgi script<\/td>\r\n\t\t\t<\/tr>\r\n\t\t\t<tr class='odd'>\r\n\t\t\t\t<td>wget -P \/tmp\/new_web http:\/\/computer running sky router tool\/do_cmd.sh<\/td><td>- Downloads the cgi script from the sky router tool web interface<\/td>\r\n\t\t\t<\/tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>chmod 777 \/tmp\/new_web\/do_cmd.sh<\/td><td>- Adds execute permissons to the script<\/td>\r\n\t\t\t<\/tr>\r\n\t\t\t<tr class='odd'>\r\n\t\t\t\t<td>ln \/etc\/htpasswd \/tmp\/new_web\/.htpasswd<\/td><td>- Link to htpasswd file (makes the new web server be username\/password protected)<\/td>\r\n\t\t\t<\/tr>\r\n\t\t\t<tr>\r\n\t\t\t\t<td>kill `cat \/tmp\/mini_httpd.pid`<\/td><td>- Kill any already running http servers created by sky router tool<\/td>\r\n\t\t\t<\/tr>\r\n\t\t\t<tr class='odd'>\r\n\t\t\t\t<td>mini_httpd -p 8324 -d \/tmp\/new_web\/ -c \"**sh\" -i \/tmp\/mini_httpd.pid<\/td><td>- Starts a new web server on port 8324<\/td>\r\n\t\t\t<\/tr>\r\n\t\t<\/table>\r\n\t<\/p>\r\n\t\r\n\t<p>do_cmd.sh is just a simple script which runs any commands which are posted to it (you can find a copy of it in the 'htdocs' folder of the Sky Router Tool installation directory). Sky Router Tool uses this do_cmd.sh to send commands to the router and return responses.<\/p>\r\n<\/p>\r\n\r\n<\/div>\r\n"},"modifying":{"name":"modifying","author":"mrmt32","content":"\n<h2>Advanced Help - Modifying Sky Router Tool<\/h2>\n<div class='helpPage'>\n\t<p>The full source code for Sky Router Tool is available from <a href=\"http:\/\/www.skyuser.co.uk\/forum\/technical-discussion\/31614-sky-router-tool.html\">http:\/\/www.skyuser.co.uk\/forum\/technical-discussion\/31614-sky-router-tool.html<\/a>. Visual Studio .NET 2008 is required to compile the application (older versions of visual studio may work but are untested).<\/p>\n\t\n\t<h3>Modifying the Web Interface<\/h3>\n\t<p>The web interface is saved in the 'htdocs' folder of the Sky Router Tool installation directory.<\/p>\n\t<p>index.html contains the basic page layout, all other content is in \"contentData.json\". This is a json representation of all the pages used in the web interface.<\/p>\n\t<p>In the \\Sources\\pH-Http\\htdocs\\pages folder of the source code package you will find an easier-to-edit version of the pages contained in contentData.json. Once you have changed the content of these pages you can update the contentData.json file by running the \"updatePages.php\" script (this requires PHP to be installed). The pages are largely HTML and javascript but also contain some custom templating tags; I will try and document these at a later stage.<\/p>\n<\/div>\n"},"about":{"name":"about","author":"mrmt32","content":"\r\n<h2>About<\/h2>\r\n<p><a href='http:\/\/www.ph-mb.com'><img src='images\/ph-mb-logo.png' alt='pH-Mb' \/><\/a><\/p>\r\n<p>Sky Router Tool was made by mrmt32 (mrmt32@gmail.com). For help and updates go to<br\/>\r\n<a href=\"http:\/\/www.skyuser.co.uk\/forum\/technical-discussion\/31614-sky-router-tool.html\">http:\/\/www.skyuser.co.uk\/forum\/technical-discussion\/31614-sky-router-tool.html<\/a>.<\/p>\r\n<br\/>\r\n<h3>Credits<\/h3>\r\n<ul>\r\n\t<li><p>The web interface uses the <a href=\"http:\/\/www.jquery.com\">jQuery<\/a> javascript library for DOM manipluation.<\/p><\/li>\t\r\n\t<li><p>The <a href=\"http:\/\/code.google.com\/p\/flot\/\">flot<\/a> javascript library is used to render the graphs.<\/p><\/li>\r\n\t<li><p>The <a href=\"http:\/\/james.newtonking.com\/pages\/json-net.aspx\">Json.NET<\/a> C# library is used to generate the JSON output from the server.<\/p><\/li>\r\n\t<li><p>Thanks to Dave-H at www.skyuser.co.uk for helping test the .net2.0 version.<\/p><\/li>\r\n\t<li><p>Thanks to David Aspden for help creating support for the DG934G.<\/p><\/li>\r\n<\/ul>\r\n"},"faq":{"name":"faq","author":"mrmt32","content":"\n<h2>Frequently Asked Questions<\/h2>\n<div class='helpPage'>\n\t<h3>I adjusted the target SNR margin and resynced but my SNR margin didn't decrease and my sync speed didn't increase?<\/h3>\n\t<p>This generally means you have either been capped by your ISP or you have already reached the maximum possible rate with ADSL2+ (~24mbit\/sec). Also note that changing the target SNR margin will not work for the DG934G router.<\/p>\n\t\n\t<h3>What is the difference between 'Target SNR Margin', 'SNR Margin' and 'SNR'?<\/h3>\n\t<ul>\n\t\t<li><p>SNR (Signal to Noise Ratio) is the ratio between the power of the ADSL signal and the power of the unwanted noise (this is what's shown on the SNR graph).<\/p><\/li>\n\t\t<li><p>SNR Margin is the difference between the current SNR and the SNR required to achieve your current speed (this is what's shown on your router's configuration page).<\/p><\/li>\n\t\t<li><p>Target SNR Margin is the SNR margin that the router tries to achieve when it first connects (it will decrease the sync speed to reach the target). The lower you set the target SNRM the higher you will sync (but the line will be more unreliable).<\/p><\/li>\n\t<\/ul>\n\t\n\t<h3>Will Sky Router Tool ever support the Sky Sagem F@st 2504 (the other router supplied by Sky)?<\/h3>\n\t<p>I don't know anything about this router, if it has a common chipset and some form of linux it might be possible...<\/p>\n<\/div>\n"},"supported_devices":{"name":"supported_devices","author":"mrmt32","content":"\n<h2>Supported Devices<\/h2>\n<div class='helpPage'>\n\t<p>Sky Router Tool currently supports the Netgear DG834GT and DG934G routers. Other routers may work if they are similar enough. If you would like support for your (preferably linux-based) router then send me an email and I'll see what I can do.<\/p>\n\t<table>\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th\/><th>Router Type<\/th><th>Comments<\/th>\n\t\t\t<\/tr>\n\t\t<\/thead>\n\t\t<tbody>\n\t\t\t<tr class='odd'>\n\t\t\t\t<td><img src='images\/dg834gt.jpg' alt='DG834GT' \/><\/td>\n\t\t\t\t<td>Netgear DG834GT<\/td>\n\t\t\t\t<td>All features supported.<\/td>\n\t\t\t<\/tr>\n\t\t\t<tr>\n\t\t\t\t<td><img src='images\/dg934g.jpg' alt='DG834GT' \/><\/td>\n\t\t\t\t<td>Netgear DG934G<\/td>\n\t\t\t\t<td>Changing the target SNR, viewing the SNR (not SNR margin), QLN and Attenuation graphs and resyncing are not supported. All other features work.<\/td>\n\t\t\t<\/tr>\n\t\t<\/tbody>\n\t<\/table>\n<\/div>\n"},"graphs":{"name":"graphs","author":"mrmt32","content":"\r\n<h2>Web Interface Help - Graphs<\/h2>\r\n<div class='helpPage'>\r\n\t<p>The 'Graphs' section is one of the most powerful parts of Sky Router Tool. Here you can display graphs of logged data (bandwidth usage and SNR margin) and advanced ADSL statistics.<\/p>\r\n\t<p>All graphs support zooming (using the scroll-wheel on your mouse) and panning (just drag the graph to move around).<\/p>\r\n\t\r\n\t<h3>Historic Graphs<\/h3>\r\n\t<p>The historic graphs are the graphs which show previously logged data. Once a graph is selected you can change the time-span displayed using the options at the top of the page.<\/p>\r\n\t<p>The table at the bottom of these graphs gives an overview of the data in the currently selected time-span.<\/p>\r\n\t\r\n\t<h3>ADSL Connection Graphs<\/h3>\r\n\t<p>These graphs display advanced ADSL connection details. All graphs are available for the DG834GT router; unfortunatly only the 'Bit Loading' graph is currently available for the DG934G. The frequency is measured in kHz.<\/p>\r\n\t<ul>\r\n\t\t<li><p><b>Bit Loading<\/b> - This shows the number of bits carried by each frequency on the ADSL line.<\/p><\/li>\r\n\t\t<li><p><b>Signal to Noise Ratio<\/b> - This shows the signal to noise ratio (in dB) for each frequency.<\/p><\/li>\r\n\t\t<li><p><b>Quiet Line Noise<\/b> - This shows the amount of noise present on the line at each frequency.<\/p><\/li>\r\n\t\t<li><p><b>Attenuation<\/b> - This shows the attenuation of the signal at each frequency.<\/p><\/li>\r\n\t<\/ul>\r\n<\/div>\r\n"},"home":{"name":"home","author":"mrmt32","content":"\n<h2>Web Interface Help - Home<\/h2>\n<div class='helpPage'>\n\t<p>On the 'Home' page you can access general details about the router.<\/p>\n\t\n\t<h3>Connection Details<\/h3>\n\t<p>The connection details page displays basic connection details and allows you to reboot or resync the router. A definition of these details is below:<\/p>\n\t<ul>\n\t\t<li><p><b>Sync Rate<\/b> - The currently negotiated rate.<\/p><\/li>\n\t\t<li><p><b>Max Rate<\/b> - The estimated maximum rate achievable with the line (assuming currently set target SNR Margin).<\/p><\/li>\n\t\t<li><p><b>Attenuation<\/b> - The power loss during transmission (dependent on line length).<\/p><\/li>\n\t\t<li><p><b>SNR Margin<\/b> - The difference between the SNR required for the current connection speed and the actual SNR.<\/p><\/li>\n\t\t<li><p><b>ADSL Mode<\/b> - This is the current ADSL mode. This will usually be either ADSL2+, ADSL2 or G.DMT.<\/p><\/li>\n\t\t<li><p><b>Channel<\/b> - This shows whether or not interleaving is enabled (Fast means no interleaving).<\/p><\/li>\n\t\t<li><p><b>Average Error Rate<\/b> - The average number of CRC errors which have been occuring every hour since your router was last reset.<\/p><\/li>\n\t<\/ul>\n\t\n\t<h3>Running Processes<\/h3>\n\t<p>This page shows a list of processes currently running on the router. Clicking a process will bring up more detailed information and allow you to kill the process.<\/p>\n<\/div>\n"},"settings":{"name":"settings","author":"mrmt32","content":"\n<h2>Web Interface Help - Settings<\/h2>\n<div class='helpPage'>\n\t<p>The 'Settings' section allows you to change various Sky Router Tool settings.<\/p>\n\t\n\t<h3>Router Connection<\/h3>\n\t<p>Here you can change the connection details for your router. These must be correct for most features of Sky Router Tool to work.<\/p>\n\t<ul>\n\t\t<li><p><b>Router Type<\/b> - The model of your router. The DG834GT is the white router provided by sky, the DG934G is the newer black Netgear router (The label on the bottom will have \"NETGEAR\" written on it).<\/p><\/li>\n\t\t<li><p><b>Router Hostname<\/b> - The hostname of your router (usualy 192.168.0.1).<\/p><\/li>\n\t\t<li><p><b>Router User Name<\/b> - The username for your router's web interface (the default is 'admin').<\/p><\/li>\n\t\t<li><p><b>Router Password<\/b> - The password for your router's web interface (the default for sky routers is 'sky').<\/p><\/li>\n\t<\/ul>\n\t\n\t<h3>Router Logging<\/h3>\n\t<p>This allows you to change the router polling interval (how often Sky Router Tool logs bandwidth and SNR Margin). It is recommended that this is left at 60 seconds.<\/p>\n\t\n\t<h3>Router Log Consolidation<\/h3>\n\t<p>In order to prevent the log files becoming too large it is possible to consolidate logs after a certain period of time. Using this page you can add consolidation rules. Note that rules are retroactive and will take effect immediatly.<\/p>\n<\/div>\n"},"tools":{"name":"tools","author":"mrmt32","content":"\r\n<h2>Web Interface Help - Tools<\/h2>\r\n<div class='helpPage'>\r\n\t<h3>Target SNR Margin<\/h3>\r\n\t<p>This tool allows you to change the target SNR margin (the SNR margin that the DSLAM tries to acheive). This unfortunatly does not work yet for the DG934G.<\/p>\r\n\t<p>Increasing the target SNR margin will give you more stability but a lower sync speed. Decreasing the target SNR margin will give a less stable, but faster line.<\/p>\r\n\t<p>To change the target SNR just drag the slider to your required value and click \"Set and Resync\". The values is measured as a percentage of the target SNR set by your ISP; for Sky the default is 7dB.<\/p>\r\n\t\r\n\t<h3>Speed Test<\/h3>\r\n\t<p>This tool allows you to test the speed of your connection by getting your router to download a file and time how long it takes to download. As the test is run on the router and not your computer, it is not affected by any problems with your LAN or Wifi connection.<\/p>\r\n\t<p>To use it just click \"Test\".<\/p>\r\n\t\r\n\t<h3>Ping<\/h3>\r\n\t<p>This tool allows you to ping a host from your router.<\/p>\r\n\t\r\n\t<h3>Calculate Sky Password<\/h3>\r\n\t<p>This tool calculates the default sky values for your router. These values are caculated from your router's LAN MAC address. The most usefull values calculated are the PPP username and password; these can be used in a 3rd party router.<\/p>\r\n\t<p>The other values calculated are: default wireless password, default wireless channel and default wireless SSID<\/p>\r\n\t<p>To use it just type in your LAN MAC address (if you are calculating details for your router this will already be filled in correctly), select the model of router and click \"Calculate\".<\/p>\r\n<\/div>\r\n"}},"title":"Help","displayOrder":"50"},"home":{"name":"home","defaultPage":"connection_details","author":"mrmt32","navigation":{"name":"navigation","author":"mrmt32","content":"\n<div class='contentBox sideBar'>\n\t<ul>\n\t\t<li><a href='#home'>Connection Details<\/a><\/li>\n\t\t<li><a href='#home,process_list'>Running Processes<\/a><\/li>\n\t<\/ul>\n<\/div>\n"},"pages":{"connection_details":{"name":"connection_details","author":"mrmt32","content":"\n\n<h2>Connection Details<\/h2>\n<div id='connection_details'>\n<$$loading_text_block:{}>\n<&javascript delayed='true'>\n\tSendCommandToServer({action:'get_value', type:'current', name:'connectionDetails;uptime'}, function(jsonResponse)\n\t{\n\t\tif (jsonResponse.isError)\n\t\t{\n\t\t\t$(\"#connection_details\").html(jsonResponse.ErrorString);\n\t\t}\n\t\telse\n\t\t{\t\n\t\t\tparameters = \n\t\t\t{\n\t\t\tstatus: jsonResponse.ReturnData.connectionDetails.Status,\n\t\t\t\n\t\t\tdownSyncRate: jsonResponse.ReturnData.connectionDetails.DownstreamSync.SyncRate,\n\t\t\tdownMaxRate: jsonResponse.ReturnData.connectionDetails.DownstreamSync.MaxAttainableRate,\n\t\t\tdownAttn: jsonResponse.ReturnData.connectionDetails.DownstreamSync.Attenuation,\n\t\t\tdownSnrm: jsonResponse.ReturnData.connectionDetails.DownstreamSync.SnrMargin,\n\t\t\t\n\t\t\tupSyncRate: jsonResponse.ReturnData.connectionDetails.UpstreamSync.SyncRate,\n\t\t\tupMaxRate: jsonResponse.ReturnData.connectionDetails.UpstreamSync.MaxAttainableRate,\n\t\t\tupAttn: jsonResponse.ReturnData.connectionDetails.UpstreamSync.Attenuation,\n\t\t\tupSnrm: jsonResponse.ReturnData.connectionDetails.UpstreamSync.SnrMargin,\n\t\t\t\n\t\t\tadslMode: jsonResponse.ReturnData.connectionDetails.Mode,\n\t\t\tadslChannel: jsonResponse.ReturnData.connectionDetails.Channel,\n\t\t\tcrcRate: Math.round((jsonResponse.ReturnData.connectionDetails.Errors.Total.Crc \/ jsonResponse.ReturnData.uptime) * 60 * 60 * 100) \/ 100\n\t\t\t};\n\t\t\n\t\t\tParseContentData(window.ContentData.blocks.connection_details_block, parameters, function(output)\n\t\t\t{\n\t\t\t\t$(\"#connection_details\").html(output);\n\t\t\t})\n\t\t}\n\t});\n\n<&\/javascript>\n<\/div>\n"},"process_list":{"name":"process_list","author":"mrmt32","content":"\r\n\r\n<h2>Running Processes<\/h2>\r\n<div id='processOverview'>\r\n\t\r\n\t\r\n<\/div>\r\n\r\n<table>\r\n<thead>\r\n\t<tr>\r\n\t\t<th>PID<\/th><th>Name<\/th><th>User ID<\/th><th>Mem. Usage<\/th><th>Run State<\/th><th>Priority<\/th>\r\n\t<\/tr>\r\n<\/thead>\r\n<tbody id='process_list'>\r\n<&javascript>\r\n\tSendCommandToServer({action:'get_value', type:'current', name:'processList'}, function(jsonResponse)\r\n\t{\r\n\t\tif (jsonResponse.isError)\r\n\t\t{\r\n\t\t\t$(\"#connection_details\").html(jsonResponse.ErrorString);\r\n\t\t}\r\n\t\telse\r\n\t\t{\t\r\n\t\t\tvar i = 0;\r\n\t\t\tvar totalMem = 0;\r\n\t\t\tfor (processId in jsonResponse.ReturnData.processList)\r\n\t\t\t{\r\n\t\t\t\tvar process = jsonResponse.ReturnData.processList[processId];\r\n\t\t\t\t\r\n\t\t\t\t$(\"#process_list\").append(\"<tr id='process\" + i + \"' class='\" + (i%2 == 0? \"\" : \"odd \") + \"selectable'>\"\r\n\t\t\t\t\t\t\t\t\t\t+ \"<td>\" + process.Pid + \"<\/td>\"\r\n\t\t\t\t\t\t\t\t\t\t+ \"<td>\" + process.CommandLine + \"<\/td>\"\r\n\t\t\t\t\t\t\t\t\t\t+ \"<td>\" + process.UserId + \"<\/td>\"\r\n\t\t\t\t\t\t\t\t\t\t+ \"<td>\" + process.VmSize + \"<\/td>\"\r\n\t\t\t\t\t\t\t\t\t\t+ \"<td>\" + process.RunState + \"<\/td>\"\r\n\t\t\t\t\t\t\t\t\t\t+ \"<td>\" + process.Priority + \"<\/td>\"\r\n\t\t\t\t\t\t\t\t\t\t+ \"<\/tr>\");\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\/\/ Load detailed process info dialog\r\n\t\t\t\tvar tempFunction = function(pid)\r\n\t\t\t\t{\r\n\t\t\t\t\t$(\"#process\" + i).click(function()\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSendCommandToServer({action:'get_value', type:'current', name:'detailedProcessInfo:' + pid}, function(jsonResponse)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (jsonResponse.isError)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t$(\"#processDialog\").html(jsonResponse.ErrorString);\r\n\t\t\t\t\t\t\t\t$(\"#processDialog\").dialog(\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tmodal: true, \r\n\t\t\t\t\t\t\t\t\tclose: function() { $(this).dialog('destroy') },\r\n\t\t\t\t\t\t\t\t\twidth: 300,\r\n\t\t\t\t\t\t\t\t\tbuttons: { \"OK\": function() { $(this).dialog(\"close\"); } }\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t{\t\r\n\t\t\t\t\t\t\t\tvar process = jsonResponse.ReturnData['detailedProcessInfo:' + pid];\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif (process.CommandLine == \"\" && process.Name == \"\")\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t$(\"#processDialog\").html(\"Process no longer exists!\");\r\n\t\t\t\t\t\t\t\t\t$(\"#processDialog\").dialog(\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tmodal: true, \r\n\t\t\t\t\t\t\t\t\t\tclose: function() { $(this).dialog('destroy') },\r\n\t\t\t\t\t\t\t\t\t\twidth: 300,\r\n\t\t\t\t\t\t\t\t\t\tbuttons: { \"OK\": function() { $(this).dialog(\"close\"); } }\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tvar environmentString = \"\";\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tfor (variableName in process.Environment)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tenvironmentString += variableName + \" = \" + process.Environment[variableName] + \"<br\/>\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tparameters = \r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tprocessId: process.Pid,\r\n\t\t\t\t\t\t\t\t\t\tprocessName: process.Name,\r\n\t\t\t\t\t\t\t\t\t\tcommandLine: process.CommandLine,\r\n\t\t\t\t\t\t\t\t\t\tvmSize: process.VmSize,\r\n\t\t\t\t\t\t\t\t\t\tvmRSS: process.VmRSS,\r\n\t\t\t\t\t\t\t\t\t\tvmExe: process.VmExe,\r\n\t\t\t\t\t\t\t\t\t\tvmLib: process.VmLib,\r\n\t\t\t\t\t\t\t\t\t\tvmStk: process.VmStk,\r\n\t\t\t\t\t\t\t\t\t\tthreadCount: process.Threads,\r\n\t\t\t\t\t\t\t\t\t\tsleepTime: process.SleepAverage,\r\n\t\t\t\t\t\t\t\t\t\trunState: process.RunState,\r\n\t\t\t\t\t\t\t\t\t\tenvironment: environmentString\r\n\t\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tParseContentData(window.ContentData.blocks.process_information_block, parameters, function(output)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t$(\"#processDialog\").html(output);\r\n\t\t\t\t\t\t\t\t\t\t$(\"#processDialog\").dialog(\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tmodal: true, \r\n\t\t\t\t\t\t\t\t\t\t\tclose: function() { $(this).dialog('destroy') },\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 450,\r\n\t\t\t\t\t\t\t\t\t\t\tbuttons: \r\n\t\t\t\t\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\t\t\t\t\t\"OK\": function() \r\n\t\t\t\t\t\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$(this).dialog(\"close\"); \r\n\t\t\t\t\t\t\t\t\t\t\t\t}, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\"Kill Process\": function() \r\n\t\t\t\t\t\t\t\t\t\t\t\t{ \r\n\t \t\t\t\t\t\t\t\t\t\t\t\t$.post(InterfaceLocation + \"?action=kill_process\", {pid: pid}, function(jsonResponse)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (jsonResponse.isError)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talert(\"Error killing process: \" + jsonResponse.ErrorString);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talert(\"Process with PID '\" + pid + \"' killed.\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t$(this).dialog(\"close\"); \r\n\t \t\t\t\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttempFunction(process.Pid);\r\n\t\t\t\ttotalMem += process.VmSize;\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\/\/ Load overview table\r\n\t\t\tparameters = \r\n\t\t\t{\r\n\t\t\t\ttotalMemoryUsage: totalMem,\r\n\t\t\t\ttotalMemoryUsagePercent: Math.round((totalMem * 100) \/ 13352 * 100) \/ 100,\r\n\t\t\t\tprocessesCount: i\r\n\t\t\t};\r\n\t\t\r\n\t\t\tParseContentData(window.ContentData.blocks.process_overview_block, parameters, function(output)\r\n\t\t\t{\r\n\t\t\t\t$(\"#processOverview\").html(output);\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n<&\/javascript>\r\n<\/tbody>\r\n<\/table>\r\n\r\n<div id='processDialog' title=\"Process Information\">\r\n\t\r\n<\/div>\r\n"}},"title":"Home","displayOrder":"10"},"settings":{"name":"settings","defaultPage":"overview","author":"mrmt32","navigation":{"name":"navigation","author":"mrmt32","content":"\r\n<div class='contentBox sideBar'>\r\n\t<h3>Sky Router Tool<\/h3>\r\n\t<ul>\r\n\t\t<li><a href='#settings,connection'>Router Connection<\/a><\/li>\r\n\t\t<li><a href='#settings,loggers'>Router Logging<\/a><\/li>\r\n\t\t<li><a href='#settings,log_consolidation'>Router Log Consolidation<\/a><\/li>\r\n\t\t<!--<li><a href='#settings,http'>Web Interface<\/a><\/li>-->\r\n\t<\/ul>\r\n<\/div>\r\n<!--\r\nThis will be available in another release!\r\n<div class='contentBox sideBar'>\r\n\t<h3>Router Settings<\/h3>\r\n\t<ul>\r\n\t\t<li><a href='#settings,router_isp'>ISP Settings<\/a><\/li>\r\n\t\t<li><a href='#settings,router_lan'>LAN Settings<\/a><\/li>\r\n\t\t<li><a href='#settings,router_adsl'>ADSL Settings<\/a><\/li>\r\n\t\t<li><a href='#settings,router_wireless'>Wireless Settings<\/a><\/li>\r\n\t\t<li><a href='#settings,router_devicemode'>Device Mode<\/a><\/li>\r\n\t\t<li><a href='#settings,router_firewall'>Firewall<\/a><\/li>\r\n\t<\/ul>\r\n<\/div>\r\n-->\r\n"},"pages":{"overview":{"name":"overview","author":"mrmt32","content":"\r\n<h2>Settings<\/h2>\r\n<p>Please select a menu option on the left.<\/p>\r\n"},"loggers":{"name":"loggers","author":"mrmt32","content":"\r\n\r\n<div class='settingsPage'>\r\n\t<h2>Router Logging Settings<\/h2>\r\n\t<p>Here you can set up the router logging feature.<\/p>\r\n\t<form action='interface.json?action=set_settings' method='post' id='routerLoggingForm'>\r\n\t\r\n\t\t\t<&javascript delayed='true'>\r\n\t\t\t\t\tSendCommandToServer({action:'get_settings', settings:'RouterPollInterval'}, function(jsonResponse)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (jsonResponse.isError)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$(\"#routerLoggingForm\").html(jsonResponse.ErrorString);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$(\"#routerLoggingForm\").submit(function()\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\/\/ Check the value is a valid time\r\n\t\t\t\t\t\t\t\tvar interval = $(\"#RouterPollInterval\").val();\r\n\t\t\t\t\t\t\t\tif (isNaN(interval) || interval < 0)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\talert(\"Interval entered is not a valid time-span!\");\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t$.post(InterfaceLocation + \"?action=set_settings\", $(\"#routerLoggingForm\").serialize(), function(jsonResponse)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tParseContentData(window.ContentData.blocks.settings_change_status_block, {jsonResponse:jsonResponse}, function (output)\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t$(\".settingsPage\").html(output);\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}, \"json\");\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tParseContentData(window.ContentData.blocks.loading_text_block, {}, function (output)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t$(\".settingsPage\").html(output);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tParseContentData(window.ContentData.blocks.logger_settings_form_block, jsonResponse.ReturnData, function(output)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t$(\"#routerLoggingForm\").html(output);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t<&\/javascript>\r\n\t\r\n\t<\/form>\r\n<\/div>\r\n\r\n"},"log_consolidation":{"name":"log_consolidation","author":"mrmt32","content":"\n\n<div class='settingsPage'>\n\t<h2>Router Log Consolidation<\/h2>\n\t<form id='consolidationForm'>\n\t\n\t\t\t<&javascript delayed='true'>\n\t\t\tSendCommandToServer({action:'get_consolidation_rules'}, function(jsonResponse)\n\t\t\t{\n\t\t\t\tif (jsonResponse.isError)\n\t\t\t\t{\n\t\t\t\t\t$(\"#consolidationForm\").html(jsonResponse.ErrorString);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\t$(\"#consolidationForm\").submit(function(e)\n\t\t\t\t\t{\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\n\t\t\t\t\t\t\/\/ Fist find which items where removed:\n\t\t\t\t\t\tvar removedItems = \"\";\n\t\t\t\t\t\t$(\"tr.disabled\").each(function(index, domElement)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tremovedItems += (index == 0? \"\":\";\") + $(domElement).attr(\"consolid\");\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t\/\/ Now find items that are not removed (so they can be updated or inserted\n\t\t\t\t\t\tvar newItems = \"\";\n\t\t\t\t\t\t$(\"tr:not(.disabled):has(input)\").each(function(index, domElement)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar id = $(domElement).attr(\"consolid\");\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\/\/ Calculate time in seconds\n\t\t\t\t\t\t\tvar timeBeforeFormated = $(this).find(\"input[name=timeBefore]\").val();\n\t\t\t\t\t\t\tvar timeBeforeMultiple = $(this).find(\"select[name=timeBeforeType] option:selected\").val();\n\t\t\t\t\t\t\tvar timeBefore = Math.round(timeBeforeFormated * (timeBeforeMultiple \/ 1000));\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar resolutionFormated = $(this).find(\"input[name=resolution]\").val();\n\t\t\t\t\t\t\tvar resolutionMultiple = $(this).find(\"select[name=resolutionType] option:selected\").val();\n\t\t\t\t\t\t\tvar resolution = Math.round(resolutionFormated * (resolutionMultiple \/ 1000));\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tnewItems += (index == 0? \"\":\";\") + timeBefore + \":\" + resolution + (isset(id)? \":\" + id : \"\");\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t$.post(InterfaceLocation + \"?action=set_consolidation_rules\", {update: newItems, 'delete': removedItems}, function(jsonResponse)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tParseContentData(window.ContentData.blocks.settings_change_status_block, {jsonResponse:jsonResponse, dontShowValues: true}, function (output)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t$(\".settingsPage\").html(output);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}, \"json\");\n\t\t\t\t\t\t\n\t\t\t\t\t\tParseContentData(window.ContentData.blocks.loading_text_block, {}, function (output)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$(\".settingsPage\").html(output);\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\tParseContentData(window.ContentData.blocks.consolidation_settings_form_block, {ReturnData: jsonResponse.ReturnData}, function(output)\n\t\t\t\t\t{\n\t\t\t\t\t\t$(\"#consolidationForm\").html(output);\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t});\n\t\t\t<&\/javascript>\n\t\n\t<\/form>\n<\/div>\n\n\n"},"connection":{"name":"connection","author":"mrmt32","content":"\n\n<div class='settingsPage'>\n\t<h2>Router Connection Settings<\/h2>\n\t<p>Here you can set up how Sky Router Tool connects to your router.<\/p>\n\t<form action='interface.json?action=set_settings' method='post' id='routerConnectionForm'>\n\t\n\t\t\t<&javascript delayed='true'>\n\t\t\t\t\tSendCommandToServer({action:'get_settings', settings:'RouterUsername;RouterPassword;RouterHostname;RouterModel'}, function(jsonResponse)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (jsonResponse.isError)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$(\"#routerConnectionForm\").html(jsonResponse.ErrorString);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$(\"#routerConnectionForm\").submit(function()\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\/\/ Update internal RouterModel setting value\n\t\t\t\t\t\t\t\tSrtSettings.RouterModel = $(\"#routerConnectionForm #RouterModel option:selected\").val();\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t$.post(InterfaceLocation + \"?action=set_settings\", $(\"#routerConnectionForm\").serialize(), function(jsonResponse)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tParseContentData(window.ContentData.blocks.settings_change_status_block, {jsonResponse:jsonResponse}, function (output)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t$(\".settingsPage\").html(output);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}, \"json\");\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tParseContentData(window.ContentData.blocks.loading_text_block, {}, function (output)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t$(\".settingsPage\").html(output);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tParseContentData(window.ContentData.blocks.router_connection_settings_form_block, jsonResponse.ReturnData, function(output)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t$(\"#routerConnectionForm\").html(output);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t<&\/javascript>\n\t\n\t<\/form>\n<\/div>\n\n"}},"title":"Settings","displayOrder":"30"},"tools":{"name":"tools","defaultPage":"overview","author":"mrmt32","navigation":{"name":"navigation","author":"mrmt32","content":"\n<div class='contentBox sideBar'>\n\t<ul>\n\t\t<h3>Basic<\/h3>\n\t\t<li><a href='#tools,speed_test'>Speed Test<\/a><\/li>\n\t\t<li><a href='#tools,ping'>Ping<\/a><\/li>\n\t\t<li><a href='#tools,sky_password'>Calculate Sky Password<\/a><\/li>\n\t<\/ul>\n<\/div>\n\n<div class='contentBox sideBar'>\n\t<ul>\n\t\t<h3>Advanced<\/h3>\n\t\t<li><a href='#tools,run_command'>Run Command<\/a><\/li>\n\t\t<&javascript>\n\t\t\tif (SrtSettings.RouterModel == \"DG834GT\")\n\t\t\t{\n\t\t\t \toutput = \"<li><a href='#tools,target_snrm'>Target SNR Margin<\/a><\/li>\";\n\t\t\t\t\/\/output += \"<li><a href='#tools,dump_firmware'>Dump Firmware<\/a><\/li>\";\n\t\t\t\t\/\/output += \"<li><a href='#tools,upgrade_firmware'>Upgrade Firmware<\/a><\/li>\";\n\t\t\t}\n\t\t<&\/javascript>\n\t<\/ul>\n<\/div>\n"},"pages":{"dump_firmware":{"name":"dump_firmware","author":"mrmt32","content":"\r\n<div class=\"settingsPage\">\r\n\t<h2>Dump Firmware<\/h2>\r\n\t<form id=\"pingForm\">\r\n\t<p>Click <a href='interface.json?action=get_firmware'>here<\/a> to download a copy of your router's firmware.<\/p>\r\n\t<p>If that does not work, try restarting your router and trying again.<\/p>\r\n<\/div>\r\n"},"overview":{"name":"overview","author":"mrmt32","content":"\r\n<h2>Tools<\/h2>\r\n<p>Please select a menu option on the left.<\/p>\r\n"},"ping":{"name":"ping","author":"mrmt32","content":"\n<div class=\"settingsPage\">\n\t<h2>Ping<\/h2>\n\t<form id=\"pingForm\">\n\t<p>Type in a hostname or IP address and click 'Ping'.<\/p>\n\t<fieldset>\n\t\t<p><label for='address'>Host: <\/label><input name='address' id='address' type='text' value='' \/><\/p>\n\t<\/fieldset>\n\t<fieldset>\n\t\t<p class='submitButton'><input type=\"submit\" value=\"Ping\" \/><\/p>\n\t<\/fieldset>\n\t<\/form>\n\t\n\t<&javascript delayed='true'>\n\t\t$(\"#pingForm\").submit(function()\n\t\t{\n\t\t\t$.post(InterfaceLocation + \"?action=ping\",  $(\"#pingForm\").serialize(), function(jsonResponse)\n\t\t\t{\n\t\t\t\tif (jsonResponse.isError)\n\t\t\t\t{\n\t\t\t\t\talert(\"Error performing ping: \" + jsonResponse.ErrorString);\n\t\t\t\t\twindow.location.hash = \"#tools\";\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tParseContentData(window.ContentData.blocks.ping_result_block, {result: jsonResponse.ReturnData}, function (output)\n\t\t\t\t{\n\t\t\t\t\t$(\".settingsPage\").html(output);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}, \"json\");\n\t\t\t\n\t\t\tParseContentData(window.ContentData.blocks.loading_text_block, {}, function (output)\n\t\t\t{\n\t\t\t\t$(\".settingsPage\").html(output);\n\t\t\t});\n\t\t\treturn false;\n\t\t});\n\t<&\/javascript>\n<\/div>\n"},"run_command":{"name":"run_command","author":"mrmt32","content":"\n<div class=\"settingsPage\">\n\t<h2>Run Command<\/h2>\n\t<form id=\"runCommandForm\">\n\t<p>Using this tool you can run any command on the router and see the result.<\/p>\n\t<fieldset>\n\t\t<p><label for='command'>Command: <\/label><input name='command' id='command' type='text' value='' \/><\/p>\n\t<\/fieldset>\n\t<fieldset>\n\t\t<p class='submitButton'><input type=\"submit\" value=\"Execute\" \/><\/p>\n\t<\/fieldset>\n\t<\/form>\n\t\n\t<&javascript delayed='true'>\n\t\t$(\"#runCommandForm\").submit(function()\n\t\t{\n\t\t\t$.post(InterfaceLocation + \"?action=command\",  $(\"#runCommandForm\").serialize(), function(jsonResponse)\n\t\t\t{\n\t\t\t\tif (jsonResponse.isError)\n\t\t\t\t{\n\t\t\t\t\talert(\"Error running command: \" + jsonResponse.ErrorString);\n\t\t\t\t\twindow.location.hash = \"#tools\";\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tParseContentData(window.ContentData.blocks.run_command_result_block, jsonResponse, function (output)\n\t\t\t\t{\n\t\t\t\t\t$(\".settingsPage\").html(output);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}, \"json\");\n\t\t\t\n\t\t\tParseContentData(window.ContentData.blocks.loading_text_block, {}, function (output)\n\t\t\t{\n\t\t\t\t$(\".settingsPage\").html(output);\n\t\t\t});\n\t\t\treturn false;\n\t\t});\n\t<&\/javascript>\n<\/div>\n"},"sky_password":{"name":"sky_password","author":"mrmt32","content":"\n<div class=\"settingsPage\">\n\t<h2>Sky Defaults Calculator<\/h2>\n\t\n\t<p>Using this page you can calculate the Sky username and password, the default wireless password, the default wireless channel and the default wireless SSID from your router's LAN MAC address.<\/p>\n\t<form id=\"skyDefaultsForm\">\n\t\t<$$loading_text_block:{}>\n\t<\/form>\n\t\n\t<&javascript delayed='true'>\n\t\tSendCommandToServer({action:'get_value', type:'current', name:'lanMacAddress'}, function(jsonResponse)\n\t\t{\n\t\t\tif (jsonResponse.isError)\n\t\t\t{\n\t\t\t\tjsonResponse.ReturnData = {lanMacAddress: \"\"};\n\t\t\t}\n\n\t\t\t$(\"#skyDefaultsForm\").submit(function()\n\t\t\t{\n\t\t\t\t$.post(InterfaceLocation + \"?action=calculate_defaults\",  $(\"#skyDefaultsForm\").serialize(), function(jsonResponse)\n\t\t\t\t{\n\t\t\t\t\tParseContentData(window.ContentData.blocks.sky_defaults_results_block, {jsonResponse: jsonResponse}, function (output)\n\t\t\t\t\t{\n\t\t\t\t\t\t$(\".settingsPage\").html(output);\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t}, \"json\");\n\t\t\t\t\n\t\t\t\tParseContentData(window.ContentData.blocks.loading_text_block, {}, function (output)\n\t\t\t\t{\n\t\t\t\t\t$(\".settingsPage\").html(output);\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\t\n\t\t\tParseContentData(window.ContentData.blocks.sky_defaults_form_block, jsonResponse.ReturnData, function(output)\n\t\t\t{\n\t\t\t\t$(\"#skyDefaultsForm\").html(output);\n\t\t\t})\n\t\t});\n\n\t<&\/javascript>\n<\/div>\n"},"speed_test":{"name":"speed_test","author":"mrmt32","content":"\n<div class=\"settingsPage\">\n\t<h2>Speed Test<\/h2>\n\t<form id=\"speedTestForm\">\n\t<p>Type in a url to download and the size of the file (or just use the default) and click \"Test\" to perform a speed test.<\/p>\n\t<p>Note that this may take a while to complete for slow connections.<\/p>\n\t<fieldset>\n\t\t<p><label for='address'>Url: <\/label><input name='address' id='address' type='text' value='http:\/\/static.btopenworld.com\/broadband\/adhoc_pages\/speedtest\/files\/largedownload.me' \/><\/p>\n\t\t<p><label for='address'>Size: <\/label><input name='size' id='size' type='text' value='15,304.91015625' \/><\/p>\n\t<\/fieldset>\n\t<fieldset>\n\t\t<p class='submitButton'><input type=\"submit\" value=\"Test\" \/><\/p>\n\t<\/fieldset>\n\t<\/form>\n\t\n\t<&javascript delayed='true'>\n\t\t$(\"#speedTestForm\").submit(function()\n\t\t{\n\t\t\t$.post(InterfaceLocation + \"?action=speed_test\",  $(\"#speedTestForm\").serialize(), function(jsonResponse)\n\t\t\t{\n\t\t\t\tif (jsonResponse.isError)\n\t\t\t\t{\n\t\t\t\t\talert(\"Error performing speed test: \" + jsonResponse.ErrorString);\n\t\t\t\t\twindow.location.hash = \"#tools\";\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tParseContentData(window.ContentData.blocks.speed_test_result_block, {speed: Math.round(jsonResponse.ReturnData.Speed * 100) \/ 100, address: jsonResponse.ReturnData.Address}, function (output)\n\t\t\t\t{\n\t\t\t\t\t$(\".settingsPage\").html(output);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}, \"json\");\n\t\t\t\n\t\t\tParseContentData(window.ContentData.blocks.loading_text_block, {}, function (output)\n\t\t\t{\n\t\t\t\t$(\".settingsPage\").html(output);\n\t\t\t});\n\t\t\treturn false;\n\t\t});\n\t<&\/javascript>\n<\/div>\n"},"target_snrm":{"name":"target_snrm","author":"mrmt32","content":"\r\n<div class=\"settingsPage\">\r\n\t<h2>Target SNR Margin<\/h2>\r\n\t<form id=\"target_snrm_form\">\r\n\t<p>Select a target SNR margin percentage using the slider below:<\/p>\r\n\t<fieldset>\r\n\t\t<p id=\"currentValue\" class='sliderValue'>100%<\/p>\r\n\t\t<div id=\"target_snrm_slider\"><\/div>\r\n\t<\/fieldset>\r\n\t<fieldset>\r\n\t\t<p class='submitButton'><input type=\"submit\" value=\"Set and Resync\" \/><\/p>\r\n\t<\/fieldset>\r\n\t<\/form>\r\n\t\r\n\t<&javascript delayed='true'>\r\n\t\t$(\"#target_snrm_slider\").slider({ min: 1, max: 500, value: 100, slide: function (event, ui){\r\n\t\t\t$(\"#currentValue\").html(ui.value + \"%\");\r\n\t\t}});\r\n\t\t\r\n\t\r\n\t\t$(\"#target_snrm_form\").submit(function()\r\n\t\t{\r\n\t\t\t$.post(InterfaceLocation + \"?action=set_target_snrm\", {target_snrm: $(\"#target_snrm_slider\").slider('option', 'value')}, function(jsonResponse)\r\n\t\t\t{\r\n\t\t\t\tParseContentData(window.ContentData.blocks.settings_change_status_block, {jsonResponse:jsonResponse, dontShowValues: true}, function (output)\r\n\t\t\t\t{\r\n\t\t\t\t\t$(\".settingsPage\").html(output);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t}, \"json\");\r\n\t\t\t\r\n\t\t\tParseContentData(window.ContentData.blocks.loading_text_block, {}, function (output)\r\n\t\t\t{\r\n\t\t\t\t$(\".settingsPage\").html(output);\r\n\t\t\t});\r\n\t\t\treturn false;\r\n\t\t});\r\n\t<&\/javascript>\r\n<\/div>\r\n"},"telnet":{"name":"telnet","author":"mrmt32","content":"\n<div class=\"settingsPage\">\n\t<h2>Telnet<\/h2>\n\t<form id=\"pingForm\">\n\t<p>Type a port number to start utelnetd on and click \"Enable Telnet\".<\/p>\n\t<fieldset>\n\t\t<p class='submitButton'><input type=\"submit\" value=\"Enable Telnet\" \/><\/p>\n\t<\/fieldset>\n\t<\/form>\n\t\n\t<&javascript delayed='true'>\n\t\t$(\"#pingForm\").submit(function()\n\t\t{\n\t\t\t$.post(InterfaceLocation + \"?action=ping\",  $(\"#pingForm\").serialize(), function(jsonResponse)\n\t\t\t{\n\t\t\t\tif (jsonResponse.isError)\n\t\t\t\t{\n\t\t\t\t\talert(\"Error performing ping: \" + jsonResponse.ErrorString);\n\t\t\t\t\twindow.location.hash = \"#tools\";\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tParseContentData(window.ContentData.blocks.ping_result_block, {result: jsonResponse.ReturnData}, function (output)\n\t\t\t\t{\n\t\t\t\t\t$(\".settingsPage\").html(output);\n\t\t\t\t});\n\t\t\t\t\n\t\t\t}, \"json\");\n\t\t\t\n\t\t\tParseContentData(window.ContentData.blocks.loading_text_block, {}, function (output)\n\t\t\t{\n\t\t\t\t$(\".settingsPage\").html(output);\n\t\t\t});\n\t\t\treturn false;\n\t\t});\n\t<&\/javascript>\n<\/div>\n"}},"title":"Tools","displayOrder":"20"}}}